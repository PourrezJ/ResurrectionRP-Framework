<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Texting App - GTA RP</title>

    <link rel="stylesheet" href="../../lib/css/onsenui.min.css">
    <link rel="stylesheet" href="../../lib/css/onsen-css-components.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css">

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dark-style.css">

    <script src="../../lib/js/angular.min.js"></script>
    <script src="../../lib/js/moment.min.js"></script>
    <script src="../../lib/js/angular-moment.min.js"></script>
    <script src="../../lib/js/jquery.min.js"></script>
    <script src="../../lib/js/onsenui.min.js"></script>

    <script src="js/app.js"></script>
    <script src="js/messages.js"></script>
</head>

<body ng-app="ResurrectionPhone" ng-class="{'dark-theme':phoneSettings.darkMode}">
	<div class="main-container" ng-controller="MessageViewCtrl">
		<div class="phone-frame"></div>
		<div class="innerapp launcher-white">
            <div class="toolbar">
                <div class="toolbar__left">
                    <a href="messages.html" class="toolbar-button">
                        <i class="ion-ios-arrow-left" style="font-size:28px; vertical-align:-6px;"></i>
                    </a>
                </div>

                <!--<div class="toolbar__center"><input id="contactName" style="text-align: center;" class="text-input text-input--material" type="text" size="12" maxlength="9" ng-attr-placeholder="conversationName"></div>-->

                <div class="toolbar__center">{{conversationName}}</div>

                <div class="toolbar__right">
                    <span class="toolbar-button">
                        <a ng-href="msg-options.html?contactName={{(knownContact ? conversationName : '')}}&contactNumber={{receiverNumber}}&convId={{conversationId}}">
                            <i class="ion-ios-information-outline" style="font-size:28px; vertical-align:-6px;"></i>
                        </a>
                    </span>
                </div>
            </div>

			<div class="msg-container" id="messages-container">
                <div class="msg-box" ng-repeat="message in messages" ng-class="{'sent':message.isOwn,'received':!message.isOwn}">
                    {{message.content}}<br />
                    <i class="timestamp">{{message.sentAt | moment : 'DD/MM/YYYY à HH:mm'}}</i>
                </div>
			</div>

			<div class="tabbar">
				<input type="text" id="inputMsg" minlength="1" maxlength="512" class="text-input msg-send" onfocus="mp.trigger('CanClose', false);" placeholder="Votre message..." ng-model="messageBox">
				<div class="emoji"><i class="far fa-smile"></i></div>
				<button class="tabbar__button msg-send-btn" ng-click="sendMessage()">
					<i class="ion-ios-paperplane"></i>
				</button>
			</div>
		</div>
	</div>
</body>
</html>