using System;
using System.Collections.Concurrent;
using System.Collections.Generic;
using System.Text;
using AltV.Net;

namespace ResurrectionRP_Server.Streamer.Data
{
    public struct Object
    {
        public int id;
        public uint model;
        public ConcurrentDictionary<string, object> datas;

        public Object(string model, int entityId)
        {
            this.model = Alt.Hash(model);
            this.id = entityId;
            this.datas = new ConcurrentDictionary<string, object>();
        }

        public bool SetData(string key, object data)
            => datas.TryAdd(key, data);

        public object GetData(string key)
            => datas[key] ?? null;

        public Dictionary<string, object> export()
        {
            var data = new Dictionary<string, object>();
            data["model"] = model;
            data["entityType"] = (int)EntityType.Object;
            data["id"] = id;
            data["data"] = datas;
            return data;
        }
    }
}
